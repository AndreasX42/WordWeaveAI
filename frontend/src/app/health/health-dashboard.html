<div class="health-dashboard">
  <!-- Header Section -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1>{{ "health.dashboard.title" | translate }}</h1>
      <div class="header-status-actions">
        <div class="overall-health" [class]="getOverallHealthClass()">
          <mat-icon>{{ getOverallHealthIcon() }}</mat-icon>
          <span>{{ getOverallHealthStatus() | translate }}</span>
        </div>
        <button
          mat-icon-button
          color="primary"
          (click)="refreshData()"
          [matTooltip]="'health.dashboard.refresh' | translate"
        >
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Health Tiles -->
  <div class="health-tiles">
    @for (tile of tiles(); track tile.id) {
    <mat-card class="health-tile" [class]="getStatusClass(tile.status)">
      <mat-card-header>
        <div class="tile-icon" mat-card-avatar>
          <mat-icon>{{ tile.icon }}</mat-icon>
        </div>
        <mat-card-title>{{ tile.title | translate }}</mat-card-title>
        <mat-card-subtitle>{{
          tile.description | translate
        }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="tile-value">
          {{ formatValue(tile.value, tile.unit) }}
        </div>
        <div class="tile-status">
          <mat-icon>{{ getStatusIcon(tile.status) }}</mat-icon>
          <span>{{ getStatusText(tile.status) | translate }}</span>
        </div>
        <div class="tile-timestamp">
          {{ "health.dashboard.lastUpdated" | translate }}:
          {{ formatTimestamp(tile.lastUpdated) }}
        </div>
      </mat-card-content>
    </mat-card>
    }
  </div>
</div>
